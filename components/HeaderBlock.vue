<template>
  <div
    id="main_header"
    class="main_header"
    :class="{
      is_menu_open,
      header_ligh_style,
      header_fixed: isHeaderFixed,
      whiteBg: isWhiteBg,
    }"
    v-if="!openLogInModal && !isRoomDetailsModalOpen"
  >
    <transition name="fade">
      <div class="menu_popup__back" v-if="is_menu_open" @click="closeMainMenuOnMisclick"></div>
    </transition>
    <div class="header_left-center_wrapper">
      <div class="header_left">
        <div class="header_left_menu">
          <transition name="fade" mode="out-in">
            <img
              class="menu_img"
              key="0"
              v-if="(!is_menu_open && header_ligh_style) || (!is_menu_open && isWhiteBg)"
              @click="toggleMenu"
              src="~/static/images/menu_dark.svg"
              alt
            />
            <img
              class="menu_img"
              key="1"
              v-else-if="(!is_menu_open && !isWhiteBg) || !is_menu_open"
              @click="toggleMenu"
              src="~/static/images/menu.svg"
              alt
            />
            <img
              class="menu_img"
              key="2"
              v-else-if="is_menu_open"
              @click="toggleMenu"
              src="~/static/images/close.svg"
              alt
            />

          </transition>
        </div>

        <div class="header_left_logo" @click.stop="clickLogo">
          <nuxt-link
            v-if="is_main"
            to="/"
          >
            <svg
              class="menu_logo"
              width="85"
              height="40"
              viewBox="0 0 85 40"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M43.2454 13.9751H39.461V17.0158H36.9707V17.6707H45.7313V17.0158H43.2454V13.9751Z"
                fill="white"
              />
              <path
                d="M44.708 11.6847H43.2454V0.659192H44.6742C49.2668 0.659192 50.834 3.76984 50.834 6.17218C50.834 9.05499 49.5254 11.6847 44.708 11.6847ZM44.6356 -5.52052e-05H41.3487L37.0089 2.22885V2.94688L39.4611 1.75518V11.1629V11.6371H39.3062C37.1252 11.6371 36.3213 10.5474 36.2948 9.34891V9.17936C36.2948 8.70666 35.8812 8.30004 35.3674 8.30004C34.8578 8.30004 34.4414 8.70666 34.4414 9.17936V9.17985C34.4491 10.6076 35.6347 12.4771 39.1908 12.4771H39.4611H39.4842H44.9676C52.6493 12.4771 54.8153 9.60687 54.8153 6.2402C54.8153 2.61313 52.1701 -5.52052e-05 44.6356 -5.52052e-05Z"
                fill="white"
              />
              <path
                d="M15.8167 31.0147H17.229V31.3372H12.3633V31.0147H13.7669V21.8824H12.3633V21.5753H17.3144C18.2645 21.5753 19.0959 21.6244 19.8086 21.7245C20.5261 21.825 21.1196 22.0475 21.603 22.3934C22.0822 22.7393 22.3201 23.2519 22.3201 23.9286C22.3201 24.5864 22.0315 25.1592 21.4549 25.6396C20.8773 26.1216 19.919 26.4096 18.5786 26.5088V26.5743C19.355 26.6798 19.9615 26.8245 20.3938 27.0125C20.8315 27.2001 21.1495 27.442 21.3526 27.7345C21.5611 28.0269 21.701 28.3646 21.7767 28.7445C21.8535 29.1268 21.9466 29.7375 22.0484 30.575C22.0909 30.9296 22.1507 31.2095 22.2274 31.4203C22.3027 31.6302 22.4479 31.7346 22.6511 31.7346C22.791 31.7346 22.9647 31.6744 23.164 31.5525C23.3642 31.431 23.5249 31.3076 23.6393 31.1857L23.9153 31.4422C23.6142 31.8031 23.3126 32.0392 23.0159 32.149C22.7143 32.2603 22.3669 32.3132 21.9809 32.3132C21.4805 32.3132 21.0858 32.2467 20.8011 32.1145C20.5169 31.9819 20.3007 31.7458 20.1521 31.4057C19.9991 31.0642 19.8848 30.5565 19.8003 29.8808C19.7106 29.1122 19.6054 28.5122 19.4862 28.0804C19.3632 27.6485 19.2102 27.338 19.0322 27.1471C18.8498 26.9552 18.638 26.8347 18.3914 26.7881C18.1501 26.7434 17.781 26.7201 17.297 26.7201H15.8167V31.0147ZM15.8167 26.3975H17.0978C17.6449 26.3975 18.1328 26.3416 18.5526 26.2265C18.9728 26.1109 19.3212 25.8719 19.6011 25.5051C19.8809 25.1354 20.0209 24.6078 20.0209 23.9135C20.0209 23.3821 19.9099 22.9657 19.6855 22.6704C19.4611 22.374 19.1465 22.169 18.7436 22.0514C18.3407 21.9382 17.8273 21.8824 17.2034 21.8824H15.8167V26.3975Z"
                fill="white"
              />
              <path
                d="M27.1858 31.0146V21.8823H25.7773V21.5753H34.7884L34.9877 24.6228H34.551C34.4111 23.6978 34.0887 23.0099 33.6004 22.5595C33.1083 22.1067 32.4211 21.8823 31.5343 21.8823H29.2351V26.3114H29.8923C30.3849 26.3114 30.8134 26.1944 31.1782 25.9617C31.543 25.7314 31.7722 25.2018 31.8658 24.3769H32.2306V28.6016H31.8658C31.7635 28.0657 31.6486 27.6601 31.5174 27.3822C31.3905 27.1062 31.212 26.9119 30.9828 26.7982C30.754 26.6899 30.4274 26.635 29.9989 26.635H29.2351V31.0146H31.8489C32.6296 31.0146 33.2906 30.8139 33.8291 30.4054C34.3729 29.9958 34.759 29.2142 34.9877 28.0487H35.4287L35.0475 31.3372H25.7773V31.0146H27.1858Z"
                fill="white"
              />
              <path
                d="M44.7925 28.6829L48.2145 21.5755H51.6674V21.8825H50.2633V31.0148H51.6674V31.3374H46.8056V31.0148H48.2145V22.5447L44.1565 31.2606H43.8251L39.5827 22.6219V29.6784C39.5827 30.0238 39.6633 30.3187 39.8245 30.5645C39.9856 30.8054 40.3673 30.9594 40.9743 31.0148V31.3374H37.7207V31.0148C38.3137 31.0148 38.7128 30.8652 38.9034 30.5645C39.1026 30.2608 39.2006 29.9626 39.2006 29.6609V22.7993C39.2006 22.1881 38.8276 21.8825 38.085 21.8825H37.754L37.7714 21.5755H41.2286L44.7925 28.6829Z"
                fill="white"
              />
              <path
                d="M55.5623 31.0146V21.8823H54.1533V21.5753H59.0205V21.8823H57.6072V31.0146H59.0205V31.3372H54.1533V31.0146H55.5623Z"
                fill="white"
              />
              <path
                d="M62.9143 31.0146V21.8823H61.5059V21.5753H70.5169L70.7162 24.6228H70.2824C70.1391 23.6978 69.8206 23.0099 69.3289 22.5595C68.8363 22.1067 68.1453 21.8823 67.2628 21.8823H64.9588V26.3114H65.6208C66.1134 26.3114 66.5419 26.1944 66.9053 25.9617C67.2753 25.7314 67.5045 25.2018 67.5928 24.3769H67.9586V28.6016H67.5928C67.4915 28.0657 67.3776 27.6601 67.2493 27.3822C67.118 27.1062 66.941 26.9119 66.7108 26.7982C66.4826 26.6899 66.1554 26.635 65.7269 26.635H64.9588V31.0146H67.576C68.362 31.0146 69.0187 30.8139 69.5615 30.4054C70.101 29.9958 70.4865 29.2142 70.7162 28.0487H71.1611L70.7755 31.3372H61.5059V31.0146H62.9143Z"
                fill="white"
              />
              <path
                d="M76.9016 31.0149H78.3096V31.3375H73.4443V31.0149H74.8528V21.8826H73.4443V21.5756H78.3993C79.3489 21.5756 80.1813 21.6246 80.8978 21.7247C81.6114 21.8253 82.2088 22.0478 82.6879 22.3937C83.1681 22.7396 83.4088 23.2521 83.4088 23.9289C83.4088 24.5866 83.1169 25.1594 82.5398 25.6399C81.9632 26.1218 80.9991 26.4099 79.6635 26.509V26.5746C80.4399 26.68 81.0459 26.8248 81.4788 27.0128C81.9164 27.2003 82.2339 27.4422 82.4385 27.7347C82.6455 28.0272 82.7859 28.3648 82.8626 28.7447C82.9389 29.127 83.0315 29.7377 83.1338 30.5752C83.1763 30.9299 83.2356 31.2097 83.3118 31.4206C83.3886 31.6304 83.5285 31.7349 83.736 31.7349C83.8759 31.7349 84.0462 31.6746 84.2494 31.5527C84.4491 31.4312 84.6108 31.3078 84.7247 31.1859L85.0002 31.4424C84.6991 31.8034 84.4019 32.0395 84.1012 32.1493C83.7997 32.26 83.4523 32.313 83.0658 32.313C82.5649 32.313 82.1707 32.2469 81.8865 32.1148C81.6061 31.9822 81.3861 31.746 81.237 31.406C81.0845 31.0645 80.9707 30.5568 80.8848 29.881C80.7965 29.1125 80.6942 28.5125 80.5711 28.0806C80.4481 27.6487 80.2961 27.3383 80.1176 27.1474C79.9352 26.9555 79.7234 26.835 79.4768 26.7883C79.235 26.7436 78.8659 26.7203 78.382 26.7203H76.9016V31.0149ZM76.9016 26.3977H78.1827C78.7347 26.3977 79.2182 26.3419 79.6336 26.2267C80.0534 26.1111 80.4066 25.8721 80.6865 25.5048C80.9654 25.1356 81.1058 24.608 81.1058 23.9138C81.1058 23.3823 80.9914 22.966 80.7709 22.6706C80.546 22.3738 80.2319 22.1692 79.829 22.0517C79.4252 21.9385 78.9127 21.8826 78.2888 21.8826H76.9016V26.3977Z"
                fill="white"
              />
              <path
                d="M1.41426 30.9826V21.7896H0V21.4801H5.29999C5.72461 21.4801 6.18252 21.5136 6.67372 21.5812C7.16492 21.6492 7.66771 21.7896 8.18111 22.0014C8.69403 22.2142 9.12733 22.5421 9.4786 22.9837C9.83084 23.4268 10.007 24.001 10.007 24.7098C10.007 25.5367 9.68416 26.2741 9.03903 26.9198C8.39294 27.5673 7.14128 27.8904 5.28165 27.8904H3.47607V30.9826H4.89516V31.3062H0V30.9826H1.41426ZM3.47607 27.5814H4.74799C5.94174 27.5814 6.72776 27.3395 7.10558 26.8547C7.48291 26.3693 7.67736 25.7475 7.68894 24.9867V24.4834C7.68315 23.9893 7.63007 23.5604 7.53212 23.1936C7.43369 22.8278 7.16927 22.5023 6.73934 22.2171C6.30894 21.9324 5.64596 21.7896 4.74799 21.7896H3.47607V27.5814Z"
                fill="white"
              />
              <path
                d="M13.4106 35.512L14.6791 38.08L15.9481 35.512H16.656V39.9417H15.9419V36.9763L14.9344 39.0876H14.4113L13.4231 36.9952V39.9417H12.709V35.512H13.4106Z"
                fill="white"
              />
              <path
                d="M18.1035 35.512H20.8003V36.1606H18.8432V37.329H20.6092V37.9712H18.8432V39.2999H20.8003V39.9417H18.1035V35.512Z"
                fill="white"
              />
              <path
                d="M22.7592 37.6821H23.4415C24.1045 37.6821 24.3979 37.4256 24.3979 36.9116C24.3979 36.4113 24.0789 36.1606 23.4415 36.1606H22.7592V37.6821ZM22.7592 38.3239V39.9417H22.0195V35.512H23.5178C24.5383 35.512 25.1376 36.0129 25.1376 36.9116C25.1376 37.8109 24.5383 38.3239 23.5178 38.3239H22.7592Z"
                fill="white"
              />
              <path
                d="M26.3281 35.512H29.0249V36.1606H27.0678V37.329H28.8339V37.9712H27.0678V39.2999H29.0249V39.9417H26.3281V35.512Z"
                fill="white"
              />
              <path
                d="M30.8688 39.9419H30.0205L31.3532 37.7018L30.2565 35.5123H31.0473L31.9718 37.3933H32.45V35.5123H33.1897V37.3933H33.6679L34.5924 35.5123H35.3827L34.2865 37.7018L35.6187 39.9419H34.7709L33.6423 38.0351H33.1897V39.9419H32.45V38.0351H31.9974L30.8688 39.9419Z"
                fill="white"
              />
              <path
                d="M38.4043 36.591L37.8176 38.3822H38.9906L38.4043 36.591ZM37.3138 39.9417H36.5234L38.0535 35.512H38.7551L40.2852 39.9417H39.5006L39.2009 39.024H37.6134L37.3138 39.9417Z"
                fill="white"
              />
              <path
                d="M46.1396 35.512V36.1606H44.2587V39.9417H43.5186V35.512H46.1396Z"
                fill="white"
              />
              <path
                d="M47.7797 38.0096C47.7797 38.9404 48.0794 39.3514 48.6854 39.3514C49.291 39.3514 49.5974 38.9404 49.5974 38.0096V37.4446C49.5974 36.5138 49.291 36.1028 48.6854 36.1028C48.0794 36.1028 47.7797 36.5138 47.7797 37.4446V38.0096ZM50.3366 38.0096C50.3366 39.3514 49.7117 40 48.6854 40C47.6586 40 47.04 39.3514 47.04 38.0096V37.4446C47.04 36.1028 47.6586 35.4547 48.6854 35.4547C49.7117 35.4547 50.3366 36.1028 50.3366 37.4446V38.0096Z"
                fill="white"
              />
              <path
                d="M51.2598 35.512H54.5303V36.1606H53.268V39.9417H52.5283V36.1606H51.2598V35.512Z"
                fill="white"
              />
              <path
                d="M55.6631 35.512H58.3604V36.1606H56.4028V37.329H58.1688V37.9712H56.4028V39.2999H58.3604V39.9417H55.6631V35.512Z"
                fill="white"
              />
              <path
                d="M60.1346 35.5123H62.9395V39.9419H62.2003V36.1609H60.8739V36.6681C60.8739 37.3739 60.855 37.9074 60.8232 38.2664C60.7909 38.6196 60.7339 38.9081 60.6509 39.1204C60.4531 39.6339 60.0517 39.8968 59.3887 39.9998V39.1972C59.6878 39.1399 59.8857 38.9854 59.9749 38.7478C60.0835 38.4656 60.1346 37.7718 60.1346 36.6681V35.5123Z"
                fill="white"
              />
              <path
                d="M65.1796 39.9421H64.4404V35.5125H65.1796V39.9421Z"
                fill="white"
              />
              <path
                d="M67.4077 37.9644V39.2999H68.1792C68.7597 39.2999 69.0463 39.075 69.0463 38.6324C69.0463 38.1699 68.7467 37.9644 68.09 37.9644H67.4077ZM67.4077 36.1543V37.3226H68.1281C68.6444 37.3226 68.9059 37.1171 68.9059 36.7061C68.9059 36.3277 68.6955 36.1543 68.0325 36.1543H67.4077ZM66.668 35.512H68.0832C69.123 35.512 69.6456 35.8973 69.6456 36.6615C69.6456 37.1171 69.3903 37.4766 69.0019 37.6243C69.5245 37.772 69.786 38.1252 69.786 38.6708C69.786 39.0366 69.6586 39.3451 69.4034 39.5822C69.1549 39.8197 68.7597 39.9417 68.2236 39.9417H66.668V35.512Z"
                fill="white"
              />
            </svg>
          </nuxt-link>
          <div  v-else class="one_hotel_logo_wrapper">
            <img class="one_hotel_logo" :src="logo_info.logo" alt />
            <p class="a1">{{ logo_info.name }}</p>
          </div>
        </div>
        <div class="money_wrapper">
          <div class="money_content_wrapper" @click.stop="toggleLang">
            <p class="a1">{{ currentLanguage }} / {{ currentCurrency }}</p>
            <svg
              width="7"
              height="7"
              viewBox="0 0 7 7"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6.29327 3.2929L3.46484 6.12133L0.636417 3.2929"
                stroke="white"
                stroke-width="0.6"
              />
            </svg>
          </div>
          <transition name="fade">
            <lang-popup v-if="isLangCurrencyPopupOpen" ref="lang-currency-popup"/>
          </transition>
        </div>
      </div>
      <div class="header_center">
        <nuxt-link v-for="link in centralLinks" :to="link.link" :key="link.id">
          <p
            class="a1"
            :class="{faded: isLinkFaded}"
            @mouseenter="fadeLinkOnHover"
            @mouseleave="unfadeLinkOnMouseleave"
          >
            {{ link.name }}
          </p>
        </nuxt-link>
        <div class="account-info">
          <p
            class="a1"
            :class="{faded: isLinkFaded}"
            @mouseenter="fadeLinkOnHover"
            @mouseleave="unfadeLinkOnMouseleave"
            @click.stop="toggleAccountMenuClub"
          >
            premier club
          </p>

          <transition name="fade">
            <account-menu-popup
              v-if="isAccountClubMenuPopupOpen"
              :data="accountMenuClub"
              ref="account-club-menu-popup"
            />
          </transition>
        </div>
      </div>
      <div class="header_center_logo">
        <div v-if="is_main" @click="clickLogo">
          <svg v-if="!secondTypeOfLogo"
            class="menu_logo"
            width="85"
            height="40"
            viewBox="0 0 85 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M43.2454 13.9751H39.461V17.0158H36.9707V17.6707H45.7313V17.0158H43.2454V13.9751Z"
              fill="white"
            />
            <path
              d="M44.708 11.6847H43.2454V0.659192H44.6742C49.2668 0.659192 50.834 3.76984 50.834 6.17218C50.834 9.05499 49.5254 11.6847 44.708 11.6847ZM44.6356 -5.52052e-05H41.3487L37.0089 2.22885V2.94688L39.4611 1.75518V11.1629V11.6371H39.3062C37.1252 11.6371 36.3213 10.5474 36.2948 9.34891V9.17936C36.2948 8.70666 35.8812 8.30004 35.3674 8.30004C34.8578 8.30004 34.4414 8.70666 34.4414 9.17936V9.17985C34.4491 10.6076 35.6347 12.4771 39.1908 12.4771H39.4611H39.4842H44.9676C52.6493 12.4771 54.8153 9.60687 54.8153 6.2402C54.8153 2.61313 52.1701 -5.52052e-05 44.6356 -5.52052e-05Z"
              fill="white"
            />
            <path
              d="M15.8167 31.0147H17.229V31.3372H12.3633V31.0147H13.7669V21.8824H12.3633V21.5753H17.3144C18.2645 21.5753 19.0959 21.6244 19.8086 21.7245C20.5261 21.825 21.1196 22.0475 21.603 22.3934C22.0822 22.7393 22.3201 23.2519 22.3201 23.9286C22.3201 24.5864 22.0315 25.1592 21.4549 25.6396C20.8773 26.1216 19.919 26.4096 18.5786 26.5088V26.5743C19.355 26.6798 19.9615 26.8245 20.3938 27.0125C20.8315 27.2001 21.1495 27.442 21.3526 27.7345C21.5611 28.0269 21.701 28.3646 21.7767 28.7445C21.8535 29.1268 21.9466 29.7375 22.0484 30.575C22.0909 30.9296 22.1507 31.2095 22.2274 31.4203C22.3027 31.6302 22.4479 31.7346 22.6511 31.7346C22.791 31.7346 22.9647 31.6744 23.164 31.5525C23.3642 31.431 23.5249 31.3076 23.6393 31.1857L23.9153 31.4422C23.6142 31.8031 23.3126 32.0392 23.0159 32.149C22.7143 32.2603 22.3669 32.3132 21.9809 32.3132C21.4805 32.3132 21.0858 32.2467 20.8011 32.1145C20.5169 31.9819 20.3007 31.7458 20.1521 31.4057C19.9991 31.0642 19.8848 30.5565 19.8003 29.8808C19.7106 29.1122 19.6054 28.5122 19.4862 28.0804C19.3632 27.6485 19.2102 27.338 19.0322 27.1471C18.8498 26.9552 18.638 26.8347 18.3914 26.7881C18.1501 26.7434 17.781 26.7201 17.297 26.7201H15.8167V31.0147ZM15.8167 26.3975H17.0978C17.6449 26.3975 18.1328 26.3416 18.5526 26.2265C18.9728 26.1109 19.3212 25.8719 19.6011 25.5051C19.8809 25.1354 20.0209 24.6078 20.0209 23.9135C20.0209 23.3821 19.9099 22.9657 19.6855 22.6704C19.4611 22.374 19.1465 22.169 18.7436 22.0514C18.3407 21.9382 17.8273 21.8824 17.2034 21.8824H15.8167V26.3975Z"
              fill="white"
            />
            <path
              d="M27.1858 31.0146V21.8823H25.7773V21.5753H34.7884L34.9877 24.6228H34.551C34.4111 23.6978 34.0887 23.0099 33.6004 22.5595C33.1083 22.1067 32.4211 21.8823 31.5343 21.8823H29.2351V26.3114H29.8923C30.3849 26.3114 30.8134 26.1944 31.1782 25.9617C31.543 25.7314 31.7722 25.2018 31.8658 24.3769H32.2306V28.6016H31.8658C31.7635 28.0657 31.6486 27.6601 31.5174 27.3822C31.3905 27.1062 31.212 26.9119 30.9828 26.7982C30.754 26.6899 30.4274 26.635 29.9989 26.635H29.2351V31.0146H31.8489C32.6296 31.0146 33.2906 30.8139 33.8291 30.4054C34.3729 29.9958 34.759 29.2142 34.9877 28.0487H35.4287L35.0475 31.3372H25.7773V31.0146H27.1858Z"
              fill="white"
            />
            <path
              d="M44.7925 28.6829L48.2145 21.5755H51.6674V21.8825H50.2633V31.0148H51.6674V31.3374H46.8056V31.0148H48.2145V22.5447L44.1565 31.2606H43.8251L39.5827 22.6219V29.6784C39.5827 30.0238 39.6633 30.3187 39.8245 30.5645C39.9856 30.8054 40.3673 30.9594 40.9743 31.0148V31.3374H37.7207V31.0148C38.3137 31.0148 38.7128 30.8652 38.9034 30.5645C39.1026 30.2608 39.2006 29.9626 39.2006 29.6609V22.7993C39.2006 22.1881 38.8276 21.8825 38.085 21.8825H37.754L37.7714 21.5755H41.2286L44.7925 28.6829Z"
              fill="white"
            />
            <path
              d="M55.5623 31.0146V21.8823H54.1533V21.5753H59.0205V21.8823H57.6072V31.0146H59.0205V31.3372H54.1533V31.0146H55.5623Z"
              fill="white"
            />
            <path
              d="M62.9143 31.0146V21.8823H61.5059V21.5753H70.5169L70.7162 24.6228H70.2824C70.1391 23.6978 69.8206 23.0099 69.3289 22.5595C68.8363 22.1067 68.1453 21.8823 67.2628 21.8823H64.9588V26.3114H65.6208C66.1134 26.3114 66.5419 26.1944 66.9053 25.9617C67.2753 25.7314 67.5045 25.2018 67.5928 24.3769H67.9586V28.6016H67.5928C67.4915 28.0657 67.3776 27.6601 67.2493 27.3822C67.118 27.1062 66.941 26.9119 66.7108 26.7982C66.4826 26.6899 66.1554 26.635 65.7269 26.635H64.9588V31.0146H67.576C68.362 31.0146 69.0187 30.8139 69.5615 30.4054C70.101 29.9958 70.4865 29.2142 70.7162 28.0487H71.1611L70.7755 31.3372H61.5059V31.0146H62.9143Z"
              fill="white"
            />
            <path
              d="M76.9016 31.0149H78.3096V31.3375H73.4443V31.0149H74.8528V21.8826H73.4443V21.5756H78.3993C79.3489 21.5756 80.1813 21.6246 80.8978 21.7247C81.6114 21.8253 82.2088 22.0478 82.6879 22.3937C83.1681 22.7396 83.4088 23.2521 83.4088 23.9289C83.4088 24.5866 83.1169 25.1594 82.5398 25.6399C81.9632 26.1218 80.9991 26.4099 79.6635 26.509V26.5746C80.4399 26.68 81.0459 26.8248 81.4788 27.0128C81.9164 27.2003 82.2339 27.4422 82.4385 27.7347C82.6455 28.0272 82.7859 28.3648 82.8626 28.7447C82.9389 29.127 83.0315 29.7377 83.1338 30.5752C83.1763 30.9299 83.2356 31.2097 83.3118 31.4206C83.3886 31.6304 83.5285 31.7349 83.736 31.7349C83.8759 31.7349 84.0462 31.6746 84.2494 31.5527C84.4491 31.4312 84.6108 31.3078 84.7247 31.1859L85.0002 31.4424C84.6991 31.8034 84.4019 32.0395 84.1012 32.1493C83.7997 32.26 83.4523 32.313 83.0658 32.313C82.5649 32.313 82.1707 32.2469 81.8865 32.1148C81.6061 31.9822 81.3861 31.746 81.237 31.406C81.0845 31.0645 80.9707 30.5568 80.8848 29.881C80.7965 29.1125 80.6942 28.5125 80.5711 28.0806C80.4481 27.6487 80.2961 27.3383 80.1176 27.1474C79.9352 26.9555 79.7234 26.835 79.4768 26.7883C79.235 26.7436 78.8659 26.7203 78.382 26.7203H76.9016V31.0149ZM76.9016 26.3977H78.1827C78.7347 26.3977 79.2182 26.3419 79.6336 26.2267C80.0534 26.1111 80.4066 25.8721 80.6865 25.5048C80.9654 25.1356 81.1058 24.608 81.1058 23.9138C81.1058 23.3823 80.9914 22.966 80.7709 22.6706C80.546 22.3738 80.2319 22.1692 79.829 22.0517C79.4252 21.9385 78.9127 21.8826 78.2888 21.8826H76.9016V26.3977Z"
              fill="white"
            />
            <path
              d="M1.41426 30.9826V21.7896H0V21.4801H5.29999C5.72461 21.4801 6.18252 21.5136 6.67372 21.5812C7.16492 21.6492 7.66771 21.7896 8.18111 22.0014C8.69403 22.2142 9.12733 22.5421 9.4786 22.9837C9.83084 23.4268 10.007 24.001 10.007 24.7098C10.007 25.5367 9.68416 26.2741 9.03903 26.9198C8.39294 27.5673 7.14128 27.8904 5.28165 27.8904H3.47607V30.9826H4.89516V31.3062H0V30.9826H1.41426ZM3.47607 27.5814H4.74799C5.94174 27.5814 6.72776 27.3395 7.10558 26.8547C7.48291 26.3693 7.67736 25.7475 7.68894 24.9867V24.4834C7.68315 23.9893 7.63007 23.5604 7.53212 23.1936C7.43369 22.8278 7.16927 22.5023 6.73934 22.2171C6.30894 21.9324 5.64596 21.7896 4.74799 21.7896H3.47607V27.5814Z"
              fill="white"
            />
            <path
              d="M13.4106 35.512L14.6791 38.08L15.9481 35.512H16.656V39.9417H15.9419V36.9763L14.9344 39.0876H14.4113L13.4231 36.9952V39.9417H12.709V35.512H13.4106Z"
              fill="white"
            />
            <path
              d="M18.1035 35.512H20.8003V36.1606H18.8432V37.329H20.6092V37.9712H18.8432V39.2999H20.8003V39.9417H18.1035V35.512Z"
              fill="white"
            />
            <path
              d="M22.7592 37.6821H23.4415C24.1045 37.6821 24.3979 37.4256 24.3979 36.9116C24.3979 36.4113 24.0789 36.1606 23.4415 36.1606H22.7592V37.6821ZM22.7592 38.3239V39.9417H22.0195V35.512H23.5178C24.5383 35.512 25.1376 36.0129 25.1376 36.9116C25.1376 37.8109 24.5383 38.3239 23.5178 38.3239H22.7592Z"
              fill="white"
            />
            <path
              d="M26.3281 35.512H29.0249V36.1606H27.0678V37.329H28.8339V37.9712H27.0678V39.2999H29.0249V39.9417H26.3281V35.512Z"
              fill="white"
            />
            <path
              d="M30.8688 39.9419H30.0205L31.3532 37.7018L30.2565 35.5123H31.0473L31.9718 37.3933H32.45V35.5123H33.1897V37.3933H33.6679L34.5924 35.5123H35.3827L34.2865 37.7018L35.6187 39.9419H34.7709L33.6423 38.0351H33.1897V39.9419H32.45V38.0351H31.9974L30.8688 39.9419Z"
              fill="white"
            />
            <path
              d="M38.4043 36.591L37.8176 38.3822H38.9906L38.4043 36.591ZM37.3138 39.9417H36.5234L38.0535 35.512H38.7551L40.2852 39.9417H39.5006L39.2009 39.024H37.6134L37.3138 39.9417Z"
              fill="white"
            />
            <path
              d="M46.1396 35.512V36.1606H44.2587V39.9417H43.5186V35.512H46.1396Z"
              fill="white"
            />
            <path
              d="M47.7797 38.0096C47.7797 38.9404 48.0794 39.3514 48.6854 39.3514C49.291 39.3514 49.5974 38.9404 49.5974 38.0096V37.4446C49.5974 36.5138 49.291 36.1028 48.6854 36.1028C48.0794 36.1028 47.7797 36.5138 47.7797 37.4446V38.0096ZM50.3366 38.0096C50.3366 39.3514 49.7117 40 48.6854 40C47.6586 40 47.04 39.3514 47.04 38.0096V37.4446C47.04 36.1028 47.6586 35.4547 48.6854 35.4547C49.7117 35.4547 50.3366 36.1028 50.3366 37.4446V38.0096Z"
              fill="white"
            />
            <path
              d="M51.2598 35.512H54.5303V36.1606H53.268V39.9417H52.5283V36.1606H51.2598V35.512Z"
              fill="white"
            />
            <path
              d="M55.6631 35.512H58.3604V36.1606H56.4028V37.329H58.1688V37.9712H56.4028V39.2999H58.3604V39.9417H55.6631V35.512Z"
              fill="white"
            />
            <path
              d="M60.1346 35.5123H62.9395V39.9419H62.2003V36.1609H60.8739V36.6681C60.8739 37.3739 60.855 37.9074 60.8232 38.2664C60.7909 38.6196 60.7339 38.9081 60.6509 39.1204C60.4531 39.6339 60.0517 39.8968 59.3887 39.9998V39.1972C59.6878 39.1399 59.8857 38.9854 59.9749 38.7478C60.0835 38.4656 60.1346 37.7718 60.1346 36.6681V35.5123Z"
              fill="white"
            />
            <path
              d="M65.1796 39.9421H64.4404V35.5125H65.1796V39.9421Z"
              fill="white"
            />
            <path
              d="M67.4077 37.9644V39.2999H68.1792C68.7597 39.2999 69.0463 39.075 69.0463 38.6324C69.0463 38.1699 68.7467 37.9644 68.09 37.9644H67.4077ZM67.4077 36.1543V37.3226H68.1281C68.6444 37.3226 68.9059 37.1171 68.9059 36.7061C68.9059 36.3277 68.6955 36.1543 68.0325 36.1543H67.4077ZM66.668 35.512H68.0832C69.123 35.512 69.6456 35.8973 69.6456 36.6615C69.6456 37.1171 69.3903 37.4766 69.0019 37.6243C69.5245 37.772 69.786 38.1252 69.786 38.6708C69.786 39.0366 69.6586 39.3451 69.4034 39.5822C69.1549 39.8197 68.7597 39.9417 68.2236 39.9417H66.668V35.512Z"
              fill="white"
            />
          </svg>

          <img
            v-else-if="isWhiteBg || (secondTypeOfLogo && is_menu_open)"
            class="one_hotel_logo"
            :src="secondLogoInfo.secondLogoBlack"
            alt
          />

          <img
            v-else-if="(secondTypeOfLogo && !is_menu_open)"
            class="one_hotel_logo"
            :src="secondLogoInfo.secondLogo"
            alt
          />

        </div>
        <div v-else class="one_hotel_logo_wrapper">
          <img class="one_hotel_logo" :src="logo_info.logo" alt />
          <p class="a1">{{ logo_info.name }}</p>
        </div>
      </div>
    </div>

    <div class="header_right">
      <div class="booking_button" @click="openBookingModal">
        <p class="a1">заРЕЗЕРВУВАТИ</p>
      </div>
      <div class="option_wrapper">
        <div class="log_in">
          <svg
            width="15"
            height="15"
            viewBox="0 0 15 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9.00469 7.18314C9.79342 6.83772 10.4392 6.23144 10.8336 5.46615C11.228 4.70087 11.3469 3.82321 11.1704 2.98061C10.9939 2.13801 10.5327 1.38181 9.86432 0.839041C9.19594 0.29627 8.36109 0 7.5 0C6.63891 0 5.80406 0.29627 5.13568 0.839041C4.46731 1.38181 4.00613 2.13801 3.82963 2.98061C3.65312 3.82321 3.77205 4.70087 4.16642 5.46615C4.56079 6.23144 5.20658 6.83772 5.99531 7.18314C4.30213 7.5298 2.78066 8.45047 1.68823 9.78942C0.595788 11.1284 -0.000573177 12.8035 4.1338e-07 14.5314C4.1338e-07 14.6557 0.0493864 14.7749 0.137294 14.8627C0.225202 14.9506 0.34443 15 0.46875 15C0.593071 15 0.712299 14.9506 0.800207 14.8627C0.888114 14.7749 0.9375 14.6557 0.9375 14.5314C0.9375 12.7913 1.6289 11.1225 2.85961 9.8921C4.09032 8.66169 5.75952 7.97045 7.5 7.97045C9.24048 7.97045 10.9097 8.66169 12.1404 9.8921C13.3711 11.1225 14.0625 12.7913 14.0625 14.5314C14.0625 14.6557 14.1119 14.7749 14.1998 14.8627C14.2877 14.9506 14.4069 15 14.5312 15C14.6556 15 14.7748 14.9506 14.8627 14.8627C14.9506 14.7749 15 14.6557 15 14.5314C15.0006 12.8035 14.4042 11.1284 13.3118 9.78942C12.2193 8.45047 10.6979 7.5298 9.00469 7.18314ZM4.6875 3.75272C4.6875 3.1966 4.85245 2.65296 5.16149 2.19056C5.47053 1.72816 5.90979 1.36776 6.4237 1.15494C6.93762 0.942121 7.50312 0.886438 8.04869 0.994933C8.59426 1.10343 9.0954 1.37123 9.48874 1.76447C9.88207 2.15771 10.1499 2.65873 10.2585 3.20416C10.367 3.7496 10.3113 4.31497 10.0984 4.82876C9.88554 5.34255 9.52505 5.7817 9.06254 6.09067C8.60003 6.39963 8.05626 6.56454 7.5 6.56454C6.75408 6.56454 6.03871 6.2683 5.51126 5.74098C4.98382 5.21366 4.6875 4.49846 4.6875 3.75272Z"
              fill="white"
            />
          </svg>
          <button class="log_in__button" @click.stop="toggleAccountMenu"></button>
          <div class="notification_circle"></div>
          <transition name="fade">
            <account-menu-popup
              :data="accountMenu"
              v-if="isAccountMenuPopupOpen"
              ref="accountMenuPopup"
            />
          </transition>
        </div>
        <div class="call">
          <svg
            class="phone_logo"
            width="15"
            height="15"
            viewBox="0 0 15 15"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.6272 8.94153C12.2998 8.60215 11.9049 8.4207 11.4864 8.4207C11.0712 8.4207 10.6729 8.59879 10.332 8.93817L9.26545 9.99664C9.17769 9.9496 9.08994 9.90591 9.00556 9.86223C8.88405 9.80175 8.76929 9.74462 8.67141 9.68414C7.67233 9.05242 6.76439 8.22917 5.89357 7.16398C5.47167 6.63306 5.18815 6.18616 4.98226 5.73253C5.25903 5.48051 5.51555 5.21841 5.76532 4.9664C5.85982 4.87231 5.95433 4.77487 6.04884 4.68078C6.75764 3.97513 6.75764 3.06116 6.04884 2.35551L5.12739 1.43817C5.02276 1.33401 4.91475 1.22648 4.81349 1.11895C4.61098 0.910618 4.39834 0.695564 4.17895 0.493952C3.85155 0.171371 3.46002 0 3.04824 0C2.63646 0 2.23818 0.171371 1.90065 0.493952C1.89728 0.497312 1.89728 0.497312 1.8939 0.500672L0.746318 1.65323C0.314286 2.08333 0.0678927 2.60753 0.0138887 3.21573C-0.0671173 4.19691 0.223154 5.11089 0.445921 5.709C0.992711 7.17742 1.80952 8.53831 3.02799 9.99664C4.50635 11.754 6.2851 13.1418 8.317 14.1196C9.09331 14.4859 10.1295 14.9194 11.2872 14.9933C11.3581 14.9966 11.4324 15 11.4999 15C12.2795 15 12.9343 14.7211 13.4474 14.1667C13.4508 14.1599 13.4575 14.1566 13.4609 14.1499C13.6364 13.9382 13.8389 13.7466 14.0516 13.5417C14.1967 13.4039 14.3452 13.2594 14.4903 13.1082C14.8245 12.7621 15 12.3589 15 11.9456C15 11.5289 14.8211 11.129 14.4802 10.793L12.6272 8.94153ZM13.8355 12.4798C13.8322 12.4798 13.8322 12.4832 13.8355 12.4798C13.7039 12.621 13.5689 12.7487 13.4238 12.8898C13.2044 13.0981 12.9816 13.3165 12.7723 13.5618C12.4314 13.9247 12.0298 14.0961 11.5032 14.0961C11.4526 14.0961 11.3986 14.0961 11.348 14.0927C10.3455 14.0289 9.41396 13.6391 8.71528 13.3065C6.80489 12.3858 5.12739 11.0786 3.73341 9.42204C2.58245 8.04099 1.8129 6.76411 1.30323 5.39315C0.989336 4.55645 0.874577 3.90457 0.925206 3.28965C0.958959 2.89651 1.11084 2.57056 1.39099 2.29167L2.54195 1.14583C2.70734 0.991263 2.88285 0.907258 3.05499 0.907258C3.26763 0.907258 3.43977 1.03495 3.54778 1.14247C3.55115 1.14583 3.55453 1.14919 3.5579 1.15255C3.76379 1.34409 3.95956 1.54234 4.16545 1.75403C4.27008 1.86156 4.37809 1.96909 4.4861 2.07997L5.40754 2.99731C5.76532 3.35349 5.76532 3.6828 5.40754 4.03898C5.30966 4.13643 5.21515 4.23387 5.11727 4.32796C4.83375 4.61693 4.56373 4.88575 4.27008 5.14785C4.26333 5.15457 4.25658 5.15793 4.2532 5.16465C3.96293 5.45363 4.01694 5.73589 4.07769 5.92742C4.08107 5.9375 4.08444 5.94758 4.08782 5.95766C4.32746 6.53562 4.66498 7.07997 5.17802 7.72849L5.1814 7.73185C6.11297 8.87433 7.09516 9.76478 8.17862 10.4469C8.31701 10.5343 8.45876 10.6048 8.59377 10.672C8.71528 10.7325 8.83004 10.7896 8.92792 10.8501C8.94143 10.8569 8.95493 10.8669 8.96843 10.8737C9.08319 10.9308 9.19119 10.9577 9.30258 10.9577C9.58272 10.9577 9.75824 10.7829 9.81562 10.7258L10.97 9.57661C11.0847 9.46237 11.267 9.3246 11.4796 9.3246C11.6889 9.3246 11.861 9.45564 11.9656 9.56989C11.969 9.57325 11.969 9.57325 11.9724 9.57661L13.8322 11.4281C14.1798 11.7708 14.1798 12.1237 13.8355 12.4798Z"
              fill="white"
            />
          </svg>
          <button class="call__button" @click.stop="togglePhone"></button>
          <transition name="fade">
            <phone-popup v-if="isContactsPopupOpen" ref="contacts-popup"/>
          </transition>
        </div>
      </div>
    </div>

    <transition name="fade">
      <menu-popup v-if="is_menu_open" />
    </transition>

    <transition name="fade">
      <BookingModal
        @closeModal="closeBookingModal"
        :openModal="isBookingModalOpen"
      />
    </transition>
  </div>
</template>

<script>
import PhonePopup from "~/blocks/header/PhonePopup";
import LangPopup from "~/blocks/header/LangPopup";
import MenuPopup from "~/blocks/header/MenuPopup";
import AccountMenuPopup from "~/blocks/header/AccountMenuPopup";
import { mapState, mapMutations } from 'vuex'
import { gsap } from 'gsap'
import fadeLinksMixin from '~/mixins/fade-link-on-hover'
import {
  TOGGLE_LANG_CURRENCY_POPUP,
  TOGGLE_ACCOUNT_MENU_POPUP,
  TOGGLE_CONTACTS_POPUP,
  TOGGLE_ACCOUNT_CLUB_MENU_POPUP,
  CLOSE_ALL_POPUPS,
} from '~/store/popups/mutations-types'

export default {
  name: "HeaderBlock",
  mixins: [fadeLinksMixin],
  components: {
    PhonePopup,
    LangPopup,
    MenuPopup,
    AccountMenuPopup,
  },
  props: {
    secondTypeOfLogo: {
      type: Boolean,
      default: false,
    },
    header_ligh_style: {
      type: Boolean,
      default: false,
    },
    isHotelMenu: {
      type: Boolean,
      default: false
    }
  },

  data: () => ({
    is_account_menu_open_club: false,
    is_main: true,
    isWhiteBg: false,
    isHeaderFixed: false,
    logo_info: {
      logo: require("~/static/images/premier_logo.svg"),
      name: "",
    },
    secondLogoInfo: {
      secondLogo: require("~/static/images/premier_second_logo.svg"),
      secondLogoBlack: require("~/static/images/premier_second_logoBlack.svg"),
    },
    links_in_main: [
      {
        id: 0,
        name: "Готелі",
        link: "/hotels",
      },
      {
        id: 1,
        name: "СПЕЦІАЛЬНІ ПРОПОЗИЦІЇ",
        link: "/hotels",
      },
      {
        id: 2,
        name: "Події",
        link: "/hotels",
      },
      // {
      //   id: 3,
      //   name: "premier club",
      //   link: "/hotels",
      // },
    ],
    links_in_hotels: [
      {
        id: 0,
        name: "про готель",
        link: "/about",
      },
      {
        id: 1,
        name: "номери",
        link: "/rooms",
      },
      {
        id: 2,
        name: "СПЕЦ ПРОПОЗИЦІЇ",
        link: "/offers",
      },
      {
        id: 3,
        name: "заходи",
        link: "/events",
      },
      {
        id: 4,
        name: "Фітнес і Спа",
        link: "/fitnes_and_spa",
      },
    ],

    accountMenu: {
      nameUser: "Костянтин Костянтинов",
      club: "Premier Club",
      cardNumber: "Amber 1503053",
      accountNumber: "MA-000049328",
      balanceOfPoints: "3020",
      accountLink: [
        {
          id: 0,
          name: "Особистий кабінет",
          link: "/",
        },
        {
          id: 1,
          name: "Мої броннювання",
          link: "/",
        },
        {
          id: 2,
          name: "Витратити бонуси",
          link: "/",
        },
        {
          id: 3,
          name: "Історія бонусів",
          link: "/",
        },
        {
          id: 4,
          name: "Клієнтська підтримка",
          link: "/",
        },
        {
          id: 5,
          name: "Налаштування",
          link: "/",
        },
      ],
    },
    accountMenuClub: {
      nameUser: "Костянтин Костянтинов",
      club: "Premier Corporate Club ",
      cardNumber: "Amber 1503053",
      accountNumber: "MA-000049328",
      balanceOfPoints: "3020",
      accountLink: [
        {
          id: 0,
          name: "Особистий кабінет",
          link: "/",
        },
        {
          id: 1,
          name: "Мої броннювання",
          link: "/",
        },
        {
          id: 2,
          name: "Витратити бонуси",
          link: "/",
        },
        {
          id: 3,
          name: "Історія бонусів",
          link: "/",
        },
        {
          id: 4,
          name: "Клієнтська підтримка",
          link: "/",
        },
        {
          id: 5,
          name: "Налаштування",
          link: "/",
        },
      ],
    },
  }),

  computed: {
    centralLinks() {
      return this.is_main ? this.links_in_main : this.links_in_hotels;
    },
    // headerLightStyle() {
    //   return this.is_menu_open || this.header_ligh_style;
    // },
    ...mapState({
      isBookingModalOpen : state => state.modals.isBookingModalOpen,
      is_menu_open: state => state.modals.isMainMenuOpen,
      currentLanguage: state => state.currentLanguage,
      currentCurrency: state => state.currentCurrency,
      openLogInModal: state => state.openLogInModal
    }),
    ...mapState("popups", [
      "isAccountMenuPopupOpen",
      "isAccountClubMenuPopupOpen",
      "isLangCurrencyPopupOpen",
      "isContactsPopupOpen",
      "isAnyPopupOpen"
    ]),
    ...mapState("modals", {
      isRoomDetailsModalOpen: state => state.isRoomDetailsModalOpen
    })
  },
  created() {
    this.is_main =
      this.$route.path == "/" ||
      this.$route.path !== "/meeting_and_events" &&
      this.$route.path !== "/one_hotel" &&
      this.$route.path !== "/one_room" &&
      this.$route.path !== "/resraurants_and_bars" &&
      this.$route.path !== "/one_restaurant" &&
      this.$route.path !== "/rooms" ||
      (process.client && window.innerWidth < 1200);


    if (!this.is_main) {
      this.logo_info = {
        logo: require("~/static/images/one_hotel_logo.svg"),
        name: "premier palace hotel",
      };
    }
  },
  methods: {
    togglePhone() {
      this.TOGGLE_CONTACTS_POPUP()
    },
    toggleLang() {
      this.TOGGLE_LANG_CURRENCY_POPUP()
    },
    toggleAccountMenu() {
      this.TOGGLE_ACCOUNT_MENU_POPUP()
    },
    toggleAccountMenuClub() {
      console.log();
      this.$router.push("/premier_club");
    },
    toggleMenu() {
      this.toggleMainMenu()
      if (this.is_menu_open == true) {
        document.body.style.overflow = "hidden";
      } else {
        document.body.style.overflow = "auto";
      }
    },
    closeLittlePopups() {
      this.CLOSE_ALL_POPUPS()
    },
    clickLogo() {
      if(this.is_main) {
        console.log('is main')
        window.scrollTo({
          top: 0,
          behavior: 'smooth',
        })
      }
    },
    openBookingModal() {
      this.mOpenBookingModal()
      this.closeLittlePopups()
    },
    ...mapMutations('modals', {
      closeBookingModal: 'closeBookingModal',
      mOpenBookingModal: 'openBookingModal',
      toggleMainMenu: 'toggleMainMenu',
      closeMainMenu: 'closeMainMenu',
    }),
    ...mapMutations('popups', [
      TOGGLE_LANG_CURRENCY_POPUP,
      TOGGLE_ACCOUNT_MENU_POPUP,
      TOGGLE_CONTACTS_POPUP,
      TOGGLE_ACCOUNT_CLUB_MENU_POPUP,
      CLOSE_ALL_POPUPS,
    ]),
    scrollHeaderVis() {
      let body = document.body;

      let lastScroll = 0;

      window.addEventListener("scroll", () => {
        const currentScroll = window.pageYOffset;
        let headerHeight = document.getElementById("main_header").clientHeight;

        //console.log(headerHeight);

        // if (
        //   window.pageYOffset >= window.innerHeight - headerHeight &&
        //   this.isWhiteBg == false
        // ) {
        //   //console.log("БЕЛАЯ ПОДЛОЖКА");
        //   this.isWhiteBg = true;
        // } else if (
        //   window.pageYOffset <= window.innerHeight - headerHeight &&
        //   this.isWhiteBg == true
        // ) {
        //   //console.log("ПРОЗРАЧНАЯ ПОДЛОЖКА");
        //   this.isWhiteBg = false;
        // }

        if (
          window.pageYOffset >= headerHeight &&
          this.isWhiteBg == false
        ) {
          //console.log("БЕЛАЯ ПОДЛОЖКА");
          this.isWhiteBg = true;
        } else if (
          window.pageYOffset <= headerHeight &&
          this.isWhiteBg == true
        ) {
          //console.log("ПРОЗРАЧНАЯ ПОДЛОЖКА");
          this.isWhiteBg = false;
        }

        if (currentScroll <= 0) {
          return;
        }

        if (currentScroll > lastScroll) {
          // down
          this.isHeaderFixed = false;
          //console.log("down");
        } else if (currentScroll < lastScroll) {
          // up
          this.isHeaderFixed = true;
          //console.log("up");
        }
        lastScroll = currentScroll;
      });
    },
    closeMainMenuOnMisclick(){
      document.body.style.overflow = "auto";
      this.closeMainMenu()
      this.CLOSE_ALL_POPUPS()
    },
    closeLittlePopupsHandler(event) {
      let isPopup = false
      let refs = this.$refs
      for(let key in refs) {
        if (refs[key]) {
          let refElementClassname = refs[key] ? refs[key].$el.className : undefined
          refElementClassname = '.' + refElementClassname.split(' ').join('.')
          if(event.target.closest(refElementClassname) == refs[key].$el) {
            isPopup = true
            break
          }
        }
      }
      if( !isPopup ) {
        this.closeLittlePopups()
      }
    }
  },
  mounted() {
    this.scrollHeaderVis()
    document.body.addEventListener("click", this.closeLittlePopupsHandler)
  },
  beforeDestroy() {
    document.body.removeEventListener("click", this.closeLittlePopupsHandler)
  },
};
</script>

<style lang="scss" scoped>
@import "../assets/scss/utils.scss";
$margin: 6px;

// $light-border: rgba(255, 255, 255, 0.24);
$light-border: rgba(255, 255, 255, 0.24);
$more-dark-border: rgba(0, 0, 0, 0.1);

@-webkit-keyframes header-animation {
  0% {
    top: -200px;
  }
  100% {
    top: 0;
  }
}

.main_header {
  margin: $margin;
  height: 81px;
  width: calc(100% - #{$margin} * 2);
  display: flex;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 11;
  transition-duration: 0.4s;

  //display: none;

  @include max(lg) {
    height: 71px;
  }
  @include max(sm) {
    height: 56px;
    margin: 5px;
  }
}
.menu_popup__back{
  position: fixed;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  background-color: rgba(0, 0, 0, 0.2);
}
.whiteBg {
  background-color: #fbfbfb;
  z-index: 11111;

  .header_right {
    border-color: rgba(0, 0, 0, 0.1);
    @include max(sm) {
      border-color: rgba(0, 0, 0, 0.1) !important;
    }
  }

  p {
    color: #000000;
  }
  .booking_button p {
    color: #ffffff;
  }
  .booking_button::after {
    opacity: 1;
  }
  .booking_button .menu_burger rect,
  .menu_logo path,
  .option_wrapper path {
    fill: #000000;
  }
  .money_content_wrapper path {
    stroke: #000000;
  }
  .booking_button {
    @include max(lg) {
      border-bottom: 0;
      border-top: 0;
    }

    &::after {
      @include max(md) {
        display: block;
      }
    }

    .a1 {
      // @include max(md) {
      //   color: #000000;
      // }
    }
  }
  .header_left {
    border-color: $more-dark-border;
  }
  .option_wrapper {
    border-color: $more-dark-border;
  }
  .log_in {
    border-color: $more-dark-border;
  }
  .money_wrapper {
    border-color: $more-dark-border;
  }
  .header_center {
    border-color: $more-dark-border;
  }
  .header_center_logo {
    border-color: $more-dark-border;
  }
  .booking_button {
    border-color: $more-dark-border;
  }
}

.header_fixed {
  position: fixed;
  left: 0;
  top: 0;

  -webkit-animation: header-animation 0.4s; /* Safari 4+ */
  -moz-animation: header-animation 0.4s; /* Fx 5+ */
  -o-animation: header-animation 0.4s; /* Opera 12+ */
  animation: header-animation 0.4s; /* IE 10+, Fx 29+ */
}
.header_left-center_wrapper {
  display: flex;
  flex-grow: 1;
}
// is menu closed
.menu_logo {
  @include max(lg) {
    width: 68px;
    height: 32px;
  }
}

.menu_logo rect,
.menu_logo path,
.option_wrapper path {
  fill: #ffffff;
  transition: fill 0.5s ease;
}

.money_content_wrapper {
  padding: 4px;
}
.money_content_wrapper path {
  stroke: #ffffff;
  transition: stroke 0.5s ease;
}
p {
  color: #ffffff;
  transition: opacity 0.5s ease;
  &.faded {
    opacity: 0.5;
    &:hover {
      opacity: 1;
    }
  }
}

//is menu open

.is_menu_open,
.header_ligh_style {
  .header_right,
  .header_center,
  .header_left,
  .header_center_logo {
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  .header_right {
    border-left: none;
  }
  .header_center_logo {
    border-left-width: 0;
    border-right-width: 0;
  }
  .header_center {
    border-right: none;
    border-left: none;
  }
  .log_in {
    @media (min-width: 650px) {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }
  }
  p {
    color: #000000;
  }
  .booking_button p {
    color: #ffffff;
  }
  .booking_button::after {
    opacity: 1;
  }
  .booking_button .menu_burger rect,
  .menu_logo path,
  .option_wrapper path {
    fill: #000000;
  }
  .money_content_wrapper path {
    stroke: #000000;
  }
  .booking_button {
    //height: calc(100% - 1.5px);
    //margin-top: 1.5px;

    @include max(lg) {
      border-bottom: 0;
      border-top: 0;
    }

    &::after {
      @include max(md) {
        display: block;
      }
    }

  }
}

.is_menu_open {
  .header_left-center_wrapper {
    //margin-top: 1px;

    @include min(lg) {
      margin-top: 0px;
    }
  }
  .header_center {
    opacity: 0.16;
    pointer-events: none;
  }
  .header_left {
    border-color: $more-dark-border;
    height: 100%;

    @include min(lg) {
      border-left: 0px;
    }
  }
  .header_right {
    border-color: rgba(0, 0, 0, 0.1);
    @include max(sm) {
      height: calc(100% - 1px);
      margin-top: 1px;
    }
  }
  .option_wrapper {
    border-color: $more-dark-border;
    height:100%;

    @include min(lg) {
      border-right: rgba(255, 255, 255, 0);
    }

    @include max(sm) {
      height: calc(100% - 1px);
      margin-top: 0px;
    }
  }
  .log_in {
    border-color: $more-dark-border;
  }
  .money_wrapper {
    border-color: $more-dark-border;
  }
  .header_center {
    border-color: rgba(0, 0, 0, 0.7);
  }
  .header_center_logo {
    border-color: $more-dark-border;
  }
  .booking_button {
    //@include min(lg) {
    //   height: calc(100% + 0.5px);
    //   margin-top: 0.5px;
    // }
    border-color: $more-dark-border;
  }
}
a {
  text-decoration: none;
}

.header_left,
.header_center,
.header_right {
  height: 100%;
  display: flex;
  align-items: center;
  z-index: 10;
}

// header left
.header_left {
  border: 1px solid $light-border;
  //justify-content: space-between;
  justify-content: flex-start;
  width: 324px;
  padding: 0 23px 0 32px;
  z-index: 20;
  @include max(lg) {
    width: 255px;
    padding: 0 24px;
  }
  @include max(md) {
    width: 180px;
    padding: 0;
  }
  @include max(sm) {
    width: 56px;
  }

  img {
    cursor: pointer;
    width: 40px;
    @include max(lg) {
      width: 18px;
      height: 18px;
    }
  }
  .one_hotel_logo {
    width: 64px;
  }
  .menu_img {
    padding: 8px;
    @include max(lg) {
      padding: unset;
    }
  }
}
.one_hotel_logo_wrapper {
  position: relative;
  top: -2.5px;
  img {
    opacity: 0.8;
    @include max(sm) {
      width: 46px;
      height: 36px;
    }
  }
  .a1 {
    position: absolute;
    font-weight: 500;
    left: -5px;
    bottom: -5px;
    user-select: none;
    cursor: pointer;
    max-width: 36px;
    @include max(sm) {
      font-size: 6px;
      bottom: -3px;
    }
  }
}
.money_wrapper {
  border-left: 1px solid $light-border;
  margin-left: auto;

  @include min(md) {
    border: 0px;
  }

  position: relative;
  @include max(md) {
    width: 107px;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  @include max(sm) {
    display: none;
  }
  .money_content_wrapper {
    cursor: pointer;
    display: flex;
  }
  p {
    margin-right: 10px;
  }
  p,
  img {
    cursor: pointer;
  }
}

// header center

.header_center {
  border: 1px solid $light-border;
  @include min(md) {
    border-right: 0px;
  }
  border-left: 0;
  justify-content: space-around;
  flex-grow: 1;
  @include max(md) {
    display: none;
  }
}
.account-info {
  position: relative;
  cursor: pointer;
  .account-menu_popup {
    right: 33px;
    top: calc(100% + 8px);
  }
}
.header_center_logo {
  border: 1px solid $light-border;
  border-left: 0px;
  display: none;
  @include max(md) {
    z-index: 10;
    display: flex;
    flex-grow: 1;
    align-items: center;
    justify-content: center;
  }
}
.header_left_logo {
  display: block;
  margin-left: 40px;
  a {
    opacity: 0.8;
    transition: opacity 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    &:hover {
      opacity: 1;
    }
  }
  @include min(md) {
    margin-left: 32px;
  }
  @include max(md) {
    display: none;
  }
}
.header_left_menu {
  @include max(md) {
    display: flex;
    flex-grow: 1;
    align-items: center;
    justify-content: center;
  }
}

// header right
.header_right {
  width: 255px;
  border: 1px solid rgba(255, 255, 255, 0.24);
  border-left: none;
  @include max(lg) {
    width: 212px;
  }
  @include max(sm) {
    height: calc(100% + 0.5px);
    margin-top: -0.5px;
    width: 60px;
  }
}

.booking_button {
  border: none;
  // border: 1px solid $light-border;
  //border-left: 0;
  height: calc(100%);
  width: 200px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  position: relative;
  margin-top: 0px;

  border-left: 1px solid;
  border-right: 1px solid;
  border-color: rgba(0, 0, 0, 0.1);

  @media (max-width: 900px) {
    border-left: none;
  }

  // border: 1px solid rgba(0, 0, 0, 0.1);
  // border-image: url("../static/images/gold_for_button.svg") 1 round;

  transition-duration: 0.5s;

  &:before {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: url("../static/images/gold_for_button.svg");
    background-repeat: no-repeat;
    background-size: cover;

    //background-color: rgb(255, 255, 255);
    z-index: -1;
  }

  &:hover {
    //background: white;
    background: #FBFBFB;
    background-size: cover;
    transition-duration: 0.5s;

    .a1 {
      background: url("../static/images/gold_for_button.svg");
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  }

  @include min(md) {
    // border-left: 0;
    // border-right: 0;
  }
  @include max(lg) {
    margin-top: 0;
    width: 178px;
  }
  @include max(md) {
  }
  @include max(sm) {
    display: none;
  }
}
// .booking_button::after {
//   content: "";
//   position: absolute;
//   left: 0;
//   top: 0;
//   width: 100%;
//   height: 100%;
//   background: url("../static/images/new_gold.png");
//   background-repeat: no-repeat;
//   background-size: cover;
//   z-index: -1;
//   opacity: 0.8;

//   //border: 1px solid;
//   //border-image: url("../static/images/dark_gold.jpg") 1 round;

//   @include max(md) {
//     display: none;
//   }
// }
p {
  color: #ffffff;
}
.option_wrapper {
  //border: 1px solid $light-border;
  border-left: 0;
  flex-grow: 1;
  height: 100%;
  @include max(sm) {
    display: flex;
    align-items: center;
    justify-content: center;
  }
}
.option_wrapper > div {
  height: 50%;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  svg {
    display: block;
    cursor: pointer;
    @include max(lg) {
      width: 12px;
      height: 12px;
    }
  }
}
.log_in {
  border-bottom: 1px solid $light-border;
  position: relative;
  cursor: pointer;
  @include max(sm) {
    border: 0;
  }
  &__button {
    display: block;
    opacity: 0;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }
}
.notification_circle {
  position: absolute;
  top: 9px;
  right: 13px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: #f0dcbe;
  @include max(lg) {
    width: 4px;
    height: 4px;
    top: 9px;
    right: 8px;
  }
  @include max(sm) {
    top: 5px;
    right: 20px;
  }
}
.call {
  position: relative;
  cursor: pointer;
  @include max(sm) {
    display: none !important;
  }
  &__button {
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
  }
}
</style>
